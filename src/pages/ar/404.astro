---
// Template for ANY language-specific 404 page
// Replace LANG_CODE with the actual language (ar, fr, de, etc.)

import { t } from "@utils/i18n";
import Layout from "@layouts/Layout.astro";

// Define the language for this specific page
const currentLang = "ar"; // Change this: ar, fr, de, it, es, etc.

// Safe translation helper
const safeT = (key: string, fallback: string = "") => {
  try {
    if (!key) return fallback;
    const result = t(key, currentLang);
    return result && result !== key ? result : fallback;
  } catch (error) {
    console.warn(`Translation error for ${key}:`, error);
    return fallback;
  }
};

// Get translations with fallbacks
const title = safeT("404.title", "Page Not Found");
const description = safeT("404.description", "The page you're looking for doesn't exist.");
const goHomeText = safeT("404.goHome", "Go Home");

// Generate home URL based on language
const homeUrl = currentLang === "en" ? "/" : `/${currentLang}/`;
---

<Layout title={title} lang={currentLang} description={description}>
  <main class="flex flex-col items-center justify-center min-h-screen text-center">
    <h1 class="text-4xl font-bold mb-4">{title}</h1>
    <p class="text-lg mb-8">{description}</p>
    <a 
      href={homeUrl} 
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
    >
      {goHomeText}
    </a>
  </main>
</Layout>